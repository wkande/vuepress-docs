<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Provider | Documentation</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/api3-docs/img/small-logo.png">
    <meta name="description" content="Technical Documentation for API3 ">
    
    <link rel="preload" href="/api3-docs/assets/css/0.styles.723bb178.css" as="style"><link rel="preload" href="/api3-docs/assets/js/app.13745957.js" as="script"><link rel="preload" href="/api3-docs/assets/js/2.027e6a30.js" as="script"><link rel="preload" href="/api3-docs/assets/js/34.6c53d26c.js" as="script"><link rel="prefetch" href="/api3-docs/assets/js/10.5e0e1ae8.js"><link rel="prefetch" href="/api3-docs/assets/js/11.08b19d41.js"><link rel="prefetch" href="/api3-docs/assets/js/12.bb07d263.js"><link rel="prefetch" href="/api3-docs/assets/js/13.76d433a9.js"><link rel="prefetch" href="/api3-docs/assets/js/14.aa9a1cf7.js"><link rel="prefetch" href="/api3-docs/assets/js/15.23a60a1e.js"><link rel="prefetch" href="/api3-docs/assets/js/16.9f31c3e0.js"><link rel="prefetch" href="/api3-docs/assets/js/17.b38ddfa8.js"><link rel="prefetch" href="/api3-docs/assets/js/18.754e193b.js"><link rel="prefetch" href="/api3-docs/assets/js/19.2a6616a9.js"><link rel="prefetch" href="/api3-docs/assets/js/20.3dcd839b.js"><link rel="prefetch" href="/api3-docs/assets/js/21.a73b8675.js"><link rel="prefetch" href="/api3-docs/assets/js/22.109fb744.js"><link rel="prefetch" href="/api3-docs/assets/js/23.082e7677.js"><link rel="prefetch" href="/api3-docs/assets/js/24.1b72c7d3.js"><link rel="prefetch" href="/api3-docs/assets/js/25.503bc44c.js"><link rel="prefetch" href="/api3-docs/assets/js/26.6e450f40.js"><link rel="prefetch" href="/api3-docs/assets/js/27.4e06f3c0.js"><link rel="prefetch" href="/api3-docs/assets/js/28.9eba633a.js"><link rel="prefetch" href="/api3-docs/assets/js/29.d7689501.js"><link rel="prefetch" href="/api3-docs/assets/js/3.7162f1b9.js"><link rel="prefetch" href="/api3-docs/assets/js/30.1b98265f.js"><link rel="prefetch" href="/api3-docs/assets/js/31.0dff6b24.js"><link rel="prefetch" href="/api3-docs/assets/js/32.33d8ec86.js"><link rel="prefetch" href="/api3-docs/assets/js/33.097b7dab.js"><link rel="prefetch" href="/api3-docs/assets/js/35.50e00532.js"><link rel="prefetch" href="/api3-docs/assets/js/36.bc9ac4d6.js"><link rel="prefetch" href="/api3-docs/assets/js/37.25605e38.js"><link rel="prefetch" href="/api3-docs/assets/js/38.83301381.js"><link rel="prefetch" href="/api3-docs/assets/js/39.d49455e6.js"><link rel="prefetch" href="/api3-docs/assets/js/4.58b2f986.js"><link rel="prefetch" href="/api3-docs/assets/js/40.c3cd2d44.js"><link rel="prefetch" href="/api3-docs/assets/js/41.fab367eb.js"><link rel="prefetch" href="/api3-docs/assets/js/42.de896cde.js"><link rel="prefetch" href="/api3-docs/assets/js/43.3a364e04.js"><link rel="prefetch" href="/api3-docs/assets/js/44.78784498.js"><link rel="prefetch" href="/api3-docs/assets/js/45.03979274.js"><link rel="prefetch" href="/api3-docs/assets/js/46.e8fa14ab.js"><link rel="prefetch" href="/api3-docs/assets/js/47.b25b7c69.js"><link rel="prefetch" href="/api3-docs/assets/js/5.00bc0488.js"><link rel="prefetch" href="/api3-docs/assets/js/6.656e3fc0.js"><link rel="prefetch" href="/api3-docs/assets/js/7.7240b83c.js"><link rel="prefetch" href="/api3-docs/assets/js/8.1b5de614.js"><link rel="prefetch" href="/api3-docs/assets/js/9.be6d7077.js">
    <link rel="stylesheet" href="/api3-docs/assets/css/0.styles.723bb178.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/api3-docs/" class="home-link router-link-active"><img src="/api3-docs/img/logo.png" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.api3.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/qnRrcfnm5W" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord (Dev)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://t.me/API3DAO" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram (Chat)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/api3/api3-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.api3.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/qnRrcfnm5W" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord (Dev)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://t.me/API3DAO" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram (Chat)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/api3/api3-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/getting-started/what-is-api3.html" class="sidebar-link">What is API3?</a></li><li><a href="/api3-docs/next/getting-started/contributing.html" class="sidebar-link">Contributing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Fundamentals</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/fundamentals/about-apis.html" class="sidebar-link">About APIs</a></li><li><a href="/api3-docs/next/fundamentals/first-party-oracles.html" class="sidebar-link">First Party Oracles</a></li><li><a href="/api3-docs/next/fundamentals/decentrally-governed-oracle-networks.html" class="sidebar-link">Decentrally-Governed Oracle Networks</a></li><li><a href="/api3-docs/next/fundamentals/dapi.html" class="sidebar-link">dAPI (Decentralized API)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Airnode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/airnode/design-philosophy.html" class="sidebar-link">Design Philosophy</a></li><li><a href="/api3-docs/next/airnode/implementation.html" class="sidebar-link">Implementation</a></li><li><a href="/api3-docs/next/airnode/ethereum-providers.html" class="sidebar-link">Ethereum Providers</a></li><li><a href="/api3-docs/next/airnode/ois.html" class="sidebar-link">Oracle Integration Specifications (OIS)</a></li><li><a href="/api3-docs/next/airnode/config-json.html" class="sidebar-link">config.json</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Specifications</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/specifications/oracle-integration-specifications-ois.html" class="sidebar-link">Oracle Integration Specifications (OIS)</a></li><li><a href="/api3-docs/next/specifications/config-json.html" class="sidebar-link">config.json</a></li><li><a href="/api3-docs/next/specifications/security-json.html" class="sidebar-link">security.json</a></li><li><a href="/api3-docs/next/specifications/airnode-abi.html" class="sidebar-link">Airnode ABI</a></li><li><a href="/api3-docs/next/specifications/reserved-parameters.html" class="sidebar-link">Reserved Parameters</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Protocols</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Request-Response</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/protocols/request-response/general-structure.html" class="sidebar-link">General Structure</a></li><li><a href="/api3-docs/next/protocols/request-response/provider.html" aria-current="page" class="active sidebar-link">Provider</a></li><li><a href="/api3-docs/next/protocols/request-response/endpoint.html" class="sidebar-link">Endpoint</a></li><li><a href="/api3-docs/next/protocols/request-response/authorizer.html" class="sidebar-link">Authorizer</a></li><li><a href="/api3-docs/next/protocols/request-response/requester.html" class="sidebar-link">Requester</a></li><li><a href="/api3-docs/next/protocols/request-response/client.html" class="sidebar-link">Client</a></li><li><a href="/api3-docs/next/protocols/request-response/designated-wallet.html" class="sidebar-link">Designated Wallet</a></li><li><a href="/api3-docs/next/protocols/request-response/endorsement.html" class="sidebar-link">Endorsement</a></li><li><a href="/api3-docs/next/protocols/request-response/template.html" class="sidebar-link">Template</a></li><li><a href="/api3-docs/next/protocols/request-response/request.html" class="sidebar-link">Request</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Publish-Subscribe</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guides</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Provider</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Requester</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Templates</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tutorials</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/tutorials/airnode-starter.html" class="sidebar-link">Airnode Starter</a></li><li><a href="/api3-docs/next/tutorials/aws-credentials.html" class="sidebar-link">AWS Cloud Credentials</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>VuePress Migration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api3-docs/next/migration-plan.html" class="sidebar-link">Moving to VuePress</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frontmatter-title"><a href="#frontmatter-title" class="header-anchor">#</a> Provider</h1> <p></p><div class="table-of-contents"><ul><li><a href="#providerid">providerId</a></li><li><a href="#creating-a-provider-record">Creating a provider record</a></li><li><a href="#provideradmin">providerAdmin</a></li><li><a href="#xpub">xpub</a></li><li><a href="#setting-endpoint-authorizers">Setting endpoint authorizers</a></li></ul></div><p></p> <p>A provider is an entity (individual, business, etc.) that operates an Airnode to serve one or more APIs to smart contracts. Each provider has only one private key, which they use across all chains.</p> <h2 id="providerid"><a href="#providerid" class="header-anchor">#</a> <code>providerId</code></h2> <p>Providers are identified by their <code>providerId</code>, which is of type <code>bytes32</code>. A provider's <code>providerId</code> is derived from their private key, and there is a one-to-one mapping between the two. Since the provider uses the same private key across all chains, they will have the same <code>providerId</code> across all chains.</p> <p>To derive <code>providerId</code> in Solidity:</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>providerId = keccak256(abi.encode(masterWalletAddress));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To derive <code>providerId</code> in JS (using ethers.js):</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>providerId <span class="token operator">=</span> ethers<span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">keccak256</span><span class="token punctuation">(</span>ethers<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>defaultAbiCoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'address'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>masterWalletAddress<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>where <code>masterWalletAddress</code> is the address of the wallet derived from the private key of the provider with the path <code>m</code>. (For deriving wallets from a private key using a path, see <a href="https://github.com/ethereumbook/ethereumbook/blob/develop/05wallets.asciidoc#hd_wallets" target="_blank" rel="noopener noreferrer">HD wallets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.) Here is an example of how one derives the master wallet address from the mnemonic in JS (using ethers.js):</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>masterHdNode <span class="token operator">=</span> ethers<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>HDNode<span class="token punctuation">.</span><span class="token function">fromMnemonic</span><span class="token punctuation">(</span>mnemonic<span class="token punctuation">)</span><span class="token punctuation">;</span>
masterWalletAddress <span class="token operator">=</span> masterHdNode<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="creating-a-provider-record"><a href="#creating-a-provider-record" class="header-anchor">#</a> Creating a provider record</h2> <p>Before being able to serve on a chain, a provider has to have a record created. To do this, the provider's master wallet has to be used to call <code>createProvider()</code> of <code>ProviderStore.sol</code>, where the contract assigns the corresponding <code>providerId</code> as such:</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>function createProvider(
    address admin,
    string calldata xpub
    )
    external
    payable
    override
    returns (bytes32 providerId)
    {
        providerId = keccak256(abi.encode(msg.sender));
        ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Note that since <code>msg.sender</code> is used to derive the <code>providerId</code>, no one but the provider can claim their <code>providerId</code> on any chain.</p> <p>This provider record creation is done automatically by Airnode. The provider only needs to fund their master wallet for it to be able to afford this transaction, and the master wallet will send the remaining funds to <code>providerAdmin</code> along with this transaction. The Airnode deployment displays instructions for how to do this, and the <code>masterWalletAddress</code> is included in the receipt that the deployer outputs for future reference.</p> <h2 id="provideradmin"><a href="#provideradmin" class="header-anchor">#</a> <code>providerAdmin</code></h2> <p><code>providerAdmin</code> is an address that is authorized to update provider-related properties (e.g., endpoint authorizers). Airnode sets a <code>providerAdmin</code> while creating the provider record, and this is sourced from <a href="/api3-docs/airnode/config-json.html"><code>config.json</code></a> under the name <code>providerAdminForRecordCreation</code>.</p> <p><code>providerAdmin</code> can transfer its authority to another address. The master wallet can reclaim the authority by calling <code>createProvider()</code> and setting another <code>providerAdmin</code>.</p> <h2 id="xpub"><a href="#xpub" class="header-anchor">#</a> <code>xpub</code></h2> <p>The provider announces their extended public key (<code>xpub</code>) in <code>ProviderStore.sol</code> for requesters to be able to derive their designated wallets. The <code>xpub</code> that the provider has announced is not verified on-chain. However, the requester can verify it off-chain. For example, in JS (using ethers.js):</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>hdNode <span class="token operator">=</span> ethers<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>HDNode<span class="token punctuation">.</span><span class="token function">fromExtendedKey</span><span class="token punctuation">(</span>xpub<span class="token punctuation">)</span><span class="token punctuation">;</span>
masterNode <span class="token operator">=</span> hdNode<span class="token punctuation">.</span><span class="token function">derivePath</span><span class="token punctuation">(</span><span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
providerIdDerivedFromXpub <span class="token operator">=</span> <span class="token function">keccak256</span><span class="token punctuation">(</span>abi<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>masterNode<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assert</span><span class="token punctuation">(</span>providerIdDerivedFromXpub <span class="token operator">===</span> providerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>See the <a href="/api3-docs/request-response-protocol/designated-wallet.html">section about designated wallets</a> to see how requesters can use <code>xpub</code> to derive their designated wallets.</p> <h2 id="setting-endpoint-authorizers"><a href="#setting-endpoint-authorizers" class="header-anchor">#</a> Setting endpoint authorizers</h2> <p>An important responsibility of the <code>providerAdmin</code> is to set endpoint authorizers. Authorizers are used to enforce rules about which requests will be responded to, and this can be used to enforce KYC, monthly subscription payments, etc. See the sections about <a href="/api3-docs/request-response-protocol/endpoint.html">endpoints</a> and <a href="/api3-docs/request-response-protocol/authorizer.html">authorizers</a> for more details.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/15/2021, 6:44:37 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api3-docs/next/protocols/request-response/general-structure.html" class="prev">
        General Structure
      </a></span> <span class="next"><a href="/api3-docs/next/protocols/request-response/endpoint.html">
        Endpoint
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/api3-docs/assets/js/app.13745957.js" defer></script><script src="/api3-docs/assets/js/2.027e6a30.js" defer></script><script src="/api3-docs/assets/js/34.6c53d26c.js" defer></script>
  </body>
</html>
